{
  "swagger": "2.0",
  "info": {
    "description": "gembackend project doc \ngod_key[借口访问debug验证码(调试用)]\n权限token:auth-token(请求的header中加入键)\ngod_key:ASDFASDqwqfasvsfqioqjweamsdfmosejoqjma\nHMAC_KEY:0642de2eb660d56402fa690b1c5474a4",
    "version": "0.0.1",
    "title": "gembackend"
  },
  "host": "39.106.55.83:8080",
  "basePath": "/v1",
  "schemes": [
    "https",
    "http"
  ],
  "paths": {
    "/auth": {
      "get": {
        "tags": [
          "gembackend"
        ],
        "summary": "获取jwt验证token",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "wallet_id",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "每个token默认有效时间24h",
            "examples": {
              "one": {
                "result": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1MzIzMTc1NTMsImlzcyI6Imp3dC16eiIsIm5iZiI6MTUzMjMxNjU1M30.6LZqzqXu0KIWTd6UPD5EZ5yovgsepZGhszA0JAME3SY",
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/txinfo": {
      "get": {
        "tags": [
          "gembackend"
        ],
        "summary": "交易详情",
        "description": "不穿合约地址 将只会获得eth的相关信息",
        "operationId": "getTxinfo",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "contract_addr",
            "in": "query",
            "description": "合约地址",
            "required": false,
            "type": "string"
          },
          {
            "name": "wallet_id",
            "in": "query",
            "description": "wallet_id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "examples": {
              "one": {
                "result": {
                  "Id": 0,
                  "From": "0xd6cb6744b7f2da784c5afd6b023d957188522198",
                  "To": "0x88a690553913a795c3c668275297635b903a29e5",
                  "Amount": "3.18096329",
                  "InputData": "0x",
                  "Nonce": "4079",
                  "GasLimit": "121000",
                  "GasPrice": "134000000000",
                  "GasUsed": "21000",
                  "Fee": "0.002814",
                  "TxHash": "0x569c5b35f203ca6db6e2cec44bceba756fad513384e2bd79c06a8c0181273379",
                  "BlockHash": "0x7d5a4369273c723454ac137f48a4f142b097aa2779464e6505f1b1c5e37b5382",
                  "BlockHeight": "5000000",
                  "ConfirmTime": "1517319693",
                  "Created": "0001-01-01T00:00:00Z",
                  "BlockState": 0,
                  "TxState": 1,
                  "IsToken": 0,
                  "ConfirmNum": "-5000000"
                },
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/balance": {
      "get": {
        "tags": [
          "gembackend"
        ],
        "summary": "获取eth可用余额,合约地址余额",
        "description": "不穿合约地址 将只会获得eth的相关信息",
        "operationId": "getBalance",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "contract_addr",
            "in": "query",
            "description": "合约地址",
            "required": false,
            "type": "string"
          },
          {
            "name": "wallet_id",
            "in": "query",
            "description": "wallet_id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "examples": {
              "one": {
                "result": {
                  "Coin": "eth",
                  "Amount": "3998.6",
                  "TokenAmount": "",
                  "Nonce": "4",
                  "Gasprice": "6000000000",
                  "Gaslimit": "21272",
                  "Dec": "0",
                  "Istoken": "0",
                  "ContractAddr": "",
                  "TokenName": ""
                },
                "status": 0,
                "version": 1
              },
              "two": {
                "result": {
                  "result": {
                    "Coin": "eth",
                    "Amount": "3998.6",
                    "TokenAmount": "5",
                    "Nonce": "4",
                    "Gasprice": "6000000000",
                    "Gaslimit": "11",
                    "Dec": "18",
                    "Istoken": "1",
                    "ContractAddr": "0x86fa049857e0209aa7d9e616f7eb3b3b78ecfdb0",
                    "TokenName": "EOS"
                  },
                  "status": 0,
                  "version": 1
                }
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/asset": {
      "get": {
        "tags": [
          "gembackend"
        ],
        "summary": "获取钱包余额",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "user_addr",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "begin",
            "in": "query",
            "description": "开始页从0开始",
            "required": true,
            "type": "string"
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "examples": {
              "one": {
                "result": [
                  {
                    "Coin": "eth",
                    "Amount": "3998.6",
                    "Price": "11535961",
                    "Dec": "0",
                    "Istoken": "0"
                  },
                  {
                    "Coin": "EOS",
                    "Amount": "5",
                    "Price": "250.15",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "TRX",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "6",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "OMG",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "SNT",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "MKR",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "ZRX",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "REP",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "BAT",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "18",
                    "Istoken": "1"
                  },
                  {
                    "Coin": "SALT",
                    "Amount": "0",
                    "Price": "0",
                    "Dec": "8",
                    "Istoken": "1"
                  }
                ],
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/rawtx{coin_type}": {
      "post": {
        "tags": [
          "gembackend"
        ],
        "summary": "导入账户",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "coin_type",
            "in": "path",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "raw",
            "in": "query",
            "description": "原文",
            "required": true,
            "type": "string"
          },
          {
            "name": "fee",
            "in": "query",
            "description": "fee",
            "required": false,
            "type": "string"
          },
          {
            "name": "from",
            "in": "query",
            "description": "from addr",
            "required": false,
            "type": "string"
          },
          {
            "name": "to",
            "in": "query",
            "description": "to addr",
            "required": false,
            "type": "string"
          },
          {
            "name": "note",
            "in": "query",
            "description": "备注",
            "required": false,
            "type": "string"
          },
          {
            "name": "gaslimit",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "gasprice",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "contract_addr",
            "in": "query",
            "description": "如果是token把合约地址发合约地址",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "examples": {
              "one": {
                "result": "success",
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/import": {
      "post": {
        "tags": [
          "gembackend"
        ],
        "summary": "导入账户",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "wallet_id",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "sign",
            "in": "query",
            "description": "walletId + HMAC_KEY的一次sha256的十六进制摘要",
            "required": true,
            "type": "string"
          },
          {
            "name": "eth_addr",
            "in": "query",
            "description": "eth地址",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "examples": {
              "one": {
                "result": "success",
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/register": {
      "post": {
        "tags": [
          "gembackend"
        ],
        "summary": "创建账户 添加十个默认token",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "wallet_id",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "sign",
            "in": "query",
            "description": "walletId + HMAC_KEY的一次sha256的十六进制摘要",
            "required": true,
            "type": "string"
          },
          {
            "name": "eth_addr",
            "in": "query",
            "description": "eth地址",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "examples": {
              "one": {
                "result": "success",
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    },
    "/txs/{coin_type}": {
      "get": {
        "tags": [
          "gembackend"
        ],
        "summary": "获取交易记录",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "coin_type",
            "in": "path",
            "description": "eth和token都传eth",
            "required": true,
            "type": "string"
          },
          {
            "name": "wallet_id",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "contract_addr",
            "in": "query",
            "description": "如果传合约地址 则会获取合约的交易记录 否则只返回eth交易记录",
            "required": false,
            "type": "string"
          },
          {
            "name": "begin_page",
            "in": "query",
            "description": "从0开始",
            "required": true,
            "type": "string"
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "tx state:1表示交易成功，0表示交易失败，-1表示打包中",
            "examples": {
              "one": {
                "result": {
                  "last": true,
                  "record": [
                    {
                      "Id": 5,
                      "From": "0xd6cb6744b7f2da784c5afd6b023d957188522198",
                      "To": "0x4ac751f0152b6799a5acfc25614072fbb06dca06",
                      "Amount": "1",
                      "Nonce": "22",
                      "Fee": "0.4",
                      "TxHash": "1234",
                      "BlockHeight": "",
                      "ConfirmTime": "",
                      "Comment": "sup no token",
                      "Created": "2018-07-31T06:00:01+08:00",
                      "BlockState": 0,
                      "TxState": -1,
                      "IsToken": 0,
                      "Collection": 0
                    },
                    {
                      "Id": 4,
                      "From": "0xd6cb6744b7f2da784c5afd6b023d957188522198",
                      "To": "0x4ac751f0152b6799a5acfc25614072fbb06dca06",
                      "Amount": "1",
                      "Nonce": "22",
                      "Fee": "0.4",
                      "TxHash": "123",
                      "BlockHeight": "",
                      "ConfirmTime": "",
                      "Comment": "sup no token",
                      "Created": "2018-07-31T05:56:30+08:00",
                      "BlockState": 0,
                      "TxState": -1,
                      "IsToken": 0,
                      "Collection": 0
                    },
                    {
                      "Id": 3,
                      "From": "0x88a690553913a795c3c668275297635b903a29e5",
                      "To": "0xd6cb6744b7f2da784c5afd6b023d957188522198",
                      "Amount": "31.18096329",
                      "Nonce": "221655",
                      "Fee": "0.0039835",
                      "TxHash": "0x696a35492b283624ccf4ae9438ae2d5d5e84a4a00798155b568d1eb52606d828",
                      "BlockHeight": "",
                      "ConfirmTime": "",
                      "Comment": "test3",
                      "Created": "2018-07-31T02:10:56+08:00",
                      "BlockState": 0,
                      "TxState": -1,
                      "IsToken": 1,
                      "Collection": 1
                    },
                    {
                      "Id": 2,
                      "From": "0x88a690553913a795c3c668275297635b903a29e5",
                      "To": "0xd6cb6744b7f2da784c5afd6b023d957188522198",
                      "Amount": "3.18096329",
                      "Nonce": "221655",
                      "Fee": "0.0039835",
                      "TxHash": "0x696a35492b283624ccf4ae9438ae2d5d5e84a4a00798155b568d1eb52606d829",
                      "BlockHeight": "5000000",
                      "ConfirmTime": "1517319693",
                      "Comment": "test2",
                      "Created": "2018-07-31T02:10:56+08:00",
                      "BlockState": 0,
                      "TxState": 1,
                      "IsToken": 1,
                      "Collection": 1
                    },
                    {
                      "Id": 1,
                      "From": "0xd6cb6744b7f2da784c5afd6b023d957188522198",
                      "To": "0x88a690553913a795c3c668275297635b903a29e5",
                      "Amount": "3.18096329",
                      "Nonce": "4079",
                      "Fee": "0.002814",
                      "TxHash": "0x569c5b35f203ca6db6e2cec44bceba756fad513384e2bd79c06a8c0181273379",
                      "BlockHeight": "5000000",
                      "ConfirmTime": "1517319693",
                      "Comment": "test1",
                      "Created": "2018-07-31T02:10:56+08:00",
                      "BlockState": 0,
                      "TxState": 1,
                      "IsToken": 0,
                      "Collection": 0
                    }
                  ],
                  "size": 5
                },
                "status": 0,
                "version": 1
              }
            }
          }
        },
        "security": [
          {
            "petstore_auth": [
              "write:pets",
              "read:pets"
            ]
          }
        ]
      }
    }
  },
  "securityDefinitions": {
    "petstore_auth": {
      "type": "oauth2",
      "authorizationUrl": "http://petstore.swagger.io/oauth/dialog",
      "flow": "implicit",
      "scopes": {
        "write:pets": "modify pets in your account",
        "read:pets": "read your pets"
      }
    },
    "api_key": {
      "type": "apiKey",
      "name": "auth-token",
      "in": "header"
    }
  },
  "definitions": {
    "Order": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "petId": {
          "type": "integer",
          "format": "int64"
        },
        "quantity": {
          "type": "integer",
          "format": "int32"
        },
        "shipDate": {
          "type": "string",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Order Status",
          "enum": [
            "placed",
            "approved",
            "delivered"
          ]
        },
        "complete": {
          "type": "boolean",
          "default": false
        }
      },
      "xml": {
        "name": "Order"
      }
    },
    "Category": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        }
      },
      "xml": {
        "name": "Category"
      }
    },
    "User": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "username": {
          "type": "string"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "userStatus": {
          "type": "integer",
          "format": "int32",
          "description": "User Status"
        }
      },
      "xml": {
        "name": "User"
      }
    },
    "Tag": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        }
      },
      "xml": {
        "name": "Tag"
      }
    },
    "Pet": {
      "type": "object",
      "required": [
        "name",
        "photoUrls"
      ],
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "category": {
          "$ref": "#/definitions/Category"
        },
        "name": {
          "type": "string",
          "example": "doggie"
        },
        "photoUrls": {
          "type": "array",
          "xml": {
            "name": "photoUrl",
            "wrapped": true
          },
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "type": "array",
          "xml": {
            "name": "tag",
            "wrapped": true
          },
          "items": {
            "$ref": "#/definitions/Tag"
          }
        },
        "status": {
          "type": "string",
          "description": "pet status in the store",
          "enum": [
            "available",
            "pending",
            "sold"
          ]
        }
      },
      "xml": {
        "name": "Pet"
      }
    },
    "ApiResponse": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "type": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      }
    }
  },
  "externalDocs": {
    "description": "Find out more about Swagger",
    "url": "http://swagger.io"
  }
}
